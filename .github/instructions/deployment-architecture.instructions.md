1. The Architecture BlueprintFrontend (Next.js): AWS AmplifyHosts your React/Next.js UI.Handles static assets and initial page loads.Game Server (Node.js + Socket.io): Amazon EC2Runs your server.js file 24/7.Maintains open WebSocket connections with players.Caching (Redis): Amazon ElastiCacheManaged Redis instance for your game state/room logic.Database (Game Metadata): DynamoDBStores user profiles, guess history, and scores.Image Storage: Amazon S3 (Do not use DynamoDB for images)Stores the generated images.2. Detailed Free Tier BreakdownA. The Game Server (Compute)Service: Amazon EC2Instance Type: t3.micro (or t2.micro depending on region).Free Tier Limit: 750 hours/month (enough to run one instance 24/7).Why: You need a server that never sleeps to keep sockets open.⚠️ The "Hidden" Cost: AWS now charges for public IPv4 addresses ($\approx$ $3.60/month).Workaround: There is no easy workaround for a game server needing public access unless you use IPv6 (which some players might not support yet). Plan to pay ~$4/month for this IP.B. The Cache (Redis)Service: Amazon ElastiCacheNode Type: cache.t2.micro or cache.t3.micro.Free Tier Limit: 750 hours/month.Configuration: You will launch this inside your VPC.Connection: Your EC2 instance connects to this privately (internally). Do not expose Redis to the public internet.C. The Frontend (Next.js)Service: AWS Amplify HostingFree Tier Limit: 1,000 build minutes/month, 5 GB storage, 15 GB data transfer.Setup: Connect your GitHub repo. Amplify detects Next.js and deploys it automatically.Note: Your frontend code will connect to your backend via the EC2 instance's public IP (e.g., socket = io('http://1.2.3.4:3000')).D. Image Storage (Crucial Change)Service: Amazon S3Free Tier Limit: 5 GB standard storage; 20,000 GET requests; 2,000 PUT requests.Strategy:Don't store images in DynamoDB: DynamoDB creates a "Write Unit" cost for every 1KB of data. An image will eat your free tier instantly.Use S3: Store the image in S3, get a URL (e.g., s3.aws.com/my-game/image1.png), and store just that URL string in DynamoDB.3. How to Connect It All (Security Groups)This is where most people get stuck. AWS locks everything down by default. You need to configure Security Groups (virtual firewalls) to let the pieces talk:EC2 Security Group (Game Server):Inbound: Allow TCP on port 3000 (or whatever your socket port is) from 0.0.0.0/0 (Anywhere).Inbound: Allow SSH (port 22) only from your IP.ElastiCache Security Group (Redis):Inbound: Allow TCP on port 6379 (Redis) ONLY from the EC2 Security Group ID.Never open this to 0.0.0.0/0.4. Summary TableComponentAWS ServiceFree Tier Limit (Monthly)StatusFrontendAmplify15 GB Data Transfer✅ Completely FreeBackendEC2 (t3.micro)750 Hours⚠️ ~$4/mo for IPRedisElastiCache (t3.micro)750 Hours✅ Completely FreeImagesS3 Standard5 GB Storage✅ Completely FreeMetadataDynamoDB25 GB Storage✅ Always Free5. RecommendationSince you are already using Redis locally:Phase 1 (Development): Deploy your Next.js app to Amplify. Keep your backend running on your local machine (localhost) to test.Phase 2 (Staging): Launch the EC2 instance. Install Node/Redis/PM2 on it. Move your backend code there. Point your Amplify frontend to the EC2 IP.Phase 3 (Production): Launch the managed ElastiCache Redis (so you don't have to manage Redis updates/crashes on the EC2 box) and switch your EC2 to use that.
